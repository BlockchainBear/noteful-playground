{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nvar _jsxFileName = \"/Users/m1/Documents/GitHub/noteful-playground/src/Note/Note.js\";\nimport React from 'react';\nimport { format } from 'date-fns';\nimport AppContext from '../AppContext';\n\nclass Note extends React.Component {\n  constructor(...args) {\n    super(...args);\n\n    this.handleDelete = noteId => {\n      const deleteUrl = `http://localhost:9090/notes/${noteId}`;\n      fetch(deleteUrl, {\n        method: 'DELETE',\n        headers: {\n          'content-type': 'application/json'\n        }\n      }).then(response => {\n        if (!response.ok) {\n          throw new Error(response.status);\n        } else {\n          this.context.handleNoteDelete(noteId);\n          this.props.history.push('/');\n        }\n      }).catch(error => console.log(error));\n    };\n  }\n\n  render() {\n    const {\n      notes\n    } = this.context;\n    const noteId = this.props.match.params.noteId;\n    let note = notes.find(note => note.id === noteId) || {\n      modified: new Date().toISOString()\n    };\n    let date = new Date(note.modified);\n    let formatted = format(date, 'do LLL yyyy');\n    return /*#__PURE__*/_jsxDEV(\"section\", {\n      className: \"note\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"note-title\",\n        children: /*#__PURE__*/_jsxDEV(\"h2\", {\n          children: note.name\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 42,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 41,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"note-details\",\n        children: [/*#__PURE__*/_jsxDEV(\"p\", {\n          children: [\"Note modified: \", formatted]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 45,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => this.handleDelete(note.id),\n          children: \"Delete\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 46,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 44,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        children: note.content\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 50,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 40,\n      columnNumber: 7\n    }, this);\n  }\n\n}\n\nNote.contextType = AppContext;\nexport default Note;","map":{"version":3,"sources":["/Users/m1/Documents/GitHub/noteful-playground/src/Note/Note.js"],"names":["React","format","AppContext","Note","Component","handleDelete","noteId","deleteUrl","fetch","method","headers","then","response","ok","Error","status","context","handleNoteDelete","props","history","push","catch","error","console","log","render","notes","match","params","note","find","id","modified","Date","toISOString","date","formatted","name","content","contextType"],"mappings":";;AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,SAASC,MAAT,QAAuB,UAAvB;AACA,OAAOC,UAAP,MAAuB,eAAvB;;AAEA,MAAMC,IAAN,SAAmBH,KAAK,CAACI,SAAzB,CAAmC;AAAA;AAAA;;AAAA,SAGjCC,YAHiC,GAGjBC,MAAD,IAAY;AACzB,YAAMC,SAAS,GAAI,+BAA8BD,MAAO,EAAxD;AAEAE,MAAAA,KAAK,CAACD,SAAD,EAAY;AACfE,QAAAA,MAAM,EAAE,QADO;AAEfC,QAAAA,OAAO,EAAE;AACP,0BAAgB;AADT;AAFM,OAAZ,CAAL,CAMGC,IANH,CAMSC,QAAD,IAAc;AAClB,YAAI,CAACA,QAAQ,CAACC,EAAd,EAAkB;AAChB,gBAAM,IAAIC,KAAJ,CAAUF,QAAQ,CAACG,MAAnB,CAAN;AACD,SAFD,MAEO;AACL,eAAKC,OAAL,CAAaC,gBAAb,CAA8BX,MAA9B;AACA,eAAKY,KAAL,CAAWC,OAAX,CAAmBC,IAAnB,CAAwB,GAAxB;AACD;AACF,OAbH,EAcGC,KAdH,CAcUC,KAAD,IAAWC,OAAO,CAACC,GAAR,CAAYF,KAAZ,CAdpB;AAeD,KArBgC;AAAA;;AAuBjCG,EAAAA,MAAM,GAAG;AACP,UAAM;AAAEC,MAAAA;AAAF,QAAY,KAAKV,OAAvB;AACA,UAAMV,MAAM,GAAG,KAAKY,KAAL,CAAWS,KAAX,CAAiBC,MAAjB,CAAwBtB,MAAvC;AAEA,QAAIuB,IAAI,GAAGH,KAAK,CAACI,IAAN,CAAYD,IAAD,IAAUA,IAAI,CAACE,EAAL,KAAYzB,MAAjC,KAA4C;AACrD0B,MAAAA,QAAQ,EAAE,IAAIC,IAAJ,GAAWC,WAAX;AAD2C,KAAvD;AAIA,QAAIC,IAAI,GAAG,IAAIF,IAAJ,CAASJ,IAAI,CAACG,QAAd,CAAX;AACA,QAAII,SAAS,GAAGnC,MAAM,CAACkC,IAAD,EAAO,aAAP,CAAtB;AAEA,wBACE;AAAS,MAAA,SAAS,EAAC,MAAnB;AAAA,8BACE;AAAK,QAAA,SAAS,EAAC,YAAf;AAAA,+BACE;AAAA,oBAAKN,IAAI,CAACQ;AAAV;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA,cADF,eAIE;AAAK,QAAA,SAAS,EAAC,cAAf;AAAA,gCACE;AAAA,wCAAmBD,SAAnB;AAAA;AAAA;AAAA;AAAA;AAAA,gBADF,eAEE;AAAQ,UAAA,OAAO,EAAE,MAAM,KAAK/B,YAAL,CAAkBwB,IAAI,CAACE,EAAvB,CAAvB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBAFF;AAAA;AAAA;AAAA;AAAA;AAAA,cAJF,eAUE;AAAA,kBAAMF,IAAI,CAACS;AAAX;AAAA;AAAA;AAAA;AAAA,cAVF;AAAA;AAAA;AAAA;AAAA;AAAA,YADF;AAcD;;AAhDgC;;AAA7BnC,I,CACGoC,W,GAAcrC,U;AAkDvB,eAAeC,IAAf","sourcesContent":["import React from 'react';\nimport { format } from 'date-fns';\nimport AppContext from '../AppContext';\n\nclass Note extends React.Component {\n  static contextType = AppContext;\n\n  handleDelete = (noteId) => {\n    const deleteUrl = `http://localhost:9090/notes/${noteId}`;\n\n    fetch(deleteUrl, {\n      method: 'DELETE',\n      headers: {\n        'content-type': 'application/json',\n      },\n    })\n      .then((response) => {\n        if (!response.ok) {\n          throw new Error(response.status);\n        } else {\n          this.context.handleNoteDelete(noteId);\n          this.props.history.push('/');\n        }\n      })\n      .catch((error) => console.log(error));\n  };\n\n  render() {\n    const { notes } = this.context;\n    const noteId = this.props.match.params.noteId;\n\n    let note = notes.find((note) => note.id === noteId) || {\n      modified: new Date().toISOString(),\n    };\n\n    let date = new Date(note.modified);\n    let formatted = format(date, 'do LLL yyyy');\n\n    return (\n      <section className=\"note\">\n        <div className=\"note-title\">\n          <h2>{note.name}</h2>\n        </div>\n        <div className=\"note-details\">\n          <p>Note modified: {formatted}</p>\n          <button onClick={() => this.handleDelete(note.id)}>\n            Delete\n          </button>\n        </div>\n        <div>{note.content}</div>\n      </section>\n    );\n  }\n}\n\nexport default Note;\n\n"]},"metadata":{},"sourceType":"module"}