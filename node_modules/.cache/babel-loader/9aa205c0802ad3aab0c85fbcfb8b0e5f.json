{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nvar _jsxFileName = \"/Users/m1/Documents/GitHub/noteful-playground/src/NoteList/NoteList.js\";\nimport React from 'react';\nimport { Link } from 'react-router-dom';\nimport { format } from 'date-fns';\nimport AppContext from '../AppContext';\n\nclass NoteList extends React.Component {\n  constructor(...args) {\n    super(...args);\n\n    this.handleDelete = noteId => {\n      const deleteUrl = `http://localhost:9090/notes/${noteId}`;\n      fetch(deleteUrl, {\n        method: 'DELETE',\n        headers: {\n          'content-type': 'application/json'\n        }\n      }).then(response => {\n        if (!response.ok) {\n          throw new Error(response.status);\n        } else {\n          this.context.handleNoteDelete(noteId);\n        }\n      }).catch(error => console.log(error));\n    };\n  }\n\n  render() {\n    const {\n      notes\n    } = this.context;\n    const notesArray = notes.map(note => {\n      let date = new Date(note.modified);\n      let formatted = format(date, 'do LLL yyyy');\n      return /*#__PURE__*/_jsxDEV(\"li\", {\n        className: \"note\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          children: /*#__PURE__*/_jsxDEV(\"h2\", {\n            children: /*#__PURE__*/_jsxDEV(Link, {\n              to: `/note/${note.id}`,\n              children: note.name\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 38,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 37,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 36,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"p\", {\n            children: [\"Note modified on: \", formatted]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 42,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: () => this.handleDelete(note.id),\n            children: \"Delete Note\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 43,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 41,\n          columnNumber: 11\n        }, this)]\n      }, note.id, true, {\n        fileName: _jsxFileName,\n        lineNumber: 35,\n        columnNumber: 9\n      }, this);\n    });\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"list\",\n      children: [/*#__PURE__*/_jsxDEV(Link, {\n        to: \"/add-note\",\n        children: /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"add-note\",\n          children: \"Add Note\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 54,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 53,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n        children: notesArray\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 57,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 7\n    }, this);\n  }\n\n}\n\nNoteList.contextType = AppContext;\nexport default NoteList;","map":{"version":3,"sources":["/Users/m1/Documents/GitHub/noteful-playground/src/NoteList/NoteList.js"],"names":["React","Link","format","AppContext","NoteList","Component","handleDelete","noteId","deleteUrl","fetch","method","headers","then","response","ok","Error","status","context","handleNoteDelete","catch","error","console","log","render","notes","notesArray","map","note","date","Date","modified","formatted","id","name","contextType"],"mappings":";;AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,SAASC,IAAT,QAAqB,kBAArB;AACA,SAASC,MAAT,QAAuB,UAAvB;AACA,OAAOC,UAAP,MAAuB,eAAvB;;AAEA,MAAMC,QAAN,SAAuBJ,KAAK,CAACK,SAA7B,CAAuC;AAAA;AAAA;;AAAA,SAGrCC,YAHqC,GAGrBC,MAAD,IAAY;AACzB,YAAMC,SAAS,GAAI,+BAA8BD,MAAO,EAAxD;AAEAE,MAAAA,KAAK,CAACD,SAAD,EAAY;AACfE,QAAAA,MAAM,EAAE,QADO;AAEfC,QAAAA,OAAO,EAAE;AACP,0BAAgB;AADT;AAFM,OAAZ,CAAL,CAMGC,IANH,CAMSC,QAAD,IAAc;AAClB,YAAI,CAACA,QAAQ,CAACC,EAAd,EAAkB;AAChB,gBAAM,IAAIC,KAAJ,CAAUF,QAAQ,CAACG,MAAnB,CAAN;AACD,SAFD,MAEO;AACL,eAAKC,OAAL,CAAaC,gBAAb,CAA8BX,MAA9B;AACD;AACF,OAZH,EAaGY,KAbH,CAaUC,KAAD,IAAWC,OAAO,CAACC,GAAR,CAAYF,KAAZ,CAbpB;AAcD,KApBoC;AAAA;;AAsBrCG,EAAAA,MAAM,GAAG;AACP,UAAM;AAAEC,MAAAA;AAAF,QAAY,KAAKP,OAAvB;AACA,UAAMQ,UAAU,GAAGD,KAAK,CAACE,GAAN,CAAWC,IAAD,IAAU;AACrC,UAAIC,IAAI,GAAG,IAAIC,IAAJ,CAASF,IAAI,CAACG,QAAd,CAAX;AACA,UAAIC,SAAS,GAAG7B,MAAM,CAAC0B,IAAD,EAAO,aAAP,CAAtB;AAEA,0BACE;AAAI,QAAA,SAAS,EAAC,MAAd;AAAA,gCACE;AAAA,iCACE;AAAA,mCACE,QAAC,IAAD;AAAM,cAAA,EAAE,EAAG,SAAQD,IAAI,CAACK,EAAG,EAA3B;AAAA,wBAA+BL,IAAI,CAACM;AAApC;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA,gBADF,eAME;AAAA,kCACE;AAAA,6CAAsBF,SAAtB;AAAA;AAAA;AAAA;AAAA;AAAA,kBADF,eAEE;AAAQ,YAAA,OAAO,EAAE,MAAM,KAAKzB,YAAL,CAAkBqB,IAAI,CAACK,EAAvB,CAAvB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBAFF;AAAA;AAAA;AAAA;AAAA;AAAA,gBANF;AAAA,SAA0BL,IAAI,CAACK,EAA/B;AAAA;AAAA;AAAA;AAAA,cADF;AAeD,KAnBkB,CAAnB;AAqBA,wBACE;AAAK,MAAA,SAAS,EAAC,MAAf;AAAA,8BACE,QAAC,IAAD;AAAM,QAAA,EAAE,EAAC,WAAT;AAAA,+BACE;AAAQ,UAAA,SAAS,EAAC,UAAlB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA,cADF,eAKE;AAAA,kBAAKP;AAAL;AAAA;AAAA;AAAA;AAAA,cALF;AAAA;AAAA;AAAA;AAAA;AAAA,YADF;AASD;;AAtDoC;;AAAjCrB,Q,CACG8B,W,GAAc/B,U;AAwDvB,eAAeC,QAAf","sourcesContent":["import React from 'react';\nimport { Link } from 'react-router-dom';\nimport { format } from 'date-fns';\nimport AppContext from '../AppContext';\n\nclass NoteList extends React.Component {\n  static contextType = AppContext;\n\n  handleDelete = (noteId) => {\n    const deleteUrl = `http://localhost:9090/notes/${noteId}`;\n\n    fetch(deleteUrl, {\n      method: 'DELETE',\n      headers: {\n        'content-type': 'application/json',\n      },\n    })\n      .then((response) => {\n        if (!response.ok) {\n          throw new Error(response.status);\n        } else {\n          this.context.handleNoteDelete(noteId);\n        }\n      })\n      .catch((error) => console.log(error));\n  };\n\n  render() {\n    const { notes } = this.context;\n    const notesArray = notes.map((note) => {\n      let date = new Date(note.modified);\n      let formatted = format(date, 'do LLL yyyy');\n\n      return (\n        <li className=\"note\" key={note.id}>\n          <div>\n            <h2>\n              <Link to={`/note/${note.id}`}>{note.name}</Link>\n            </h2>\n          </div>\n          <div>\n            <p>Note modified on: {formatted}</p>\n            <button onClick={() => this.handleDelete(note.id)}>\n              Delete Note\n            </button>\n          </div>\n        </li>\n      );\n    });\n\n    return (\n      <div className=\"list\">\n        <Link to=\"/add-note\">\n          <button className=\"add-note\">Add Note</button>\n        </Link>\n\n        <ul>{notesArray}</ul>\n      </div>\n    );\n  }\n}\n\nexport default NoteList;"]},"metadata":{},"sourceType":"module"}